{"version":3,"file":"static/js/24.c1fa96aa.chunk.js","mappings":"kLACA,EAAwD,wB,SCEzC,SAASA,EAAT,GAA6B,IAATC,EAAQ,EAARA,MAC/BC,QAAQC,IAAIF,GAER,IAAMG,EAAWH,EAAMI,KAAI,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,GAAV,OAC3B,SAAC,KAAD,CAAeC,GAAE,kBAAaD,GAAME,UAAWC,EAA/C,SAA0DJ,GAA/CC,EADgB,IAG/B,OACI,+BAEI,wBACKH,KAKhB,C,4ICdc,SAASO,EAAT,GAAuC,EAAlBC,MAAmB,IAAZC,EAAW,EAAXA,SACzC,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KAQMC,EAAe,SAACC,GACpBA,EAAEC,iBACFN,EAAUE,EAET,EACH,OACE,kBAAMF,SAAUI,EAAhB,WACE,kBACEG,SAbe,SAACF,GACpB,IAAQN,EAAUM,EAAEG,OAAZT,MACRI,EAAUJ,EACX,EAWKA,MAAOG,EACPO,KAAK,OACLC,KAAK,YAEL,mBAAQD,KAAK,SAASE,QAASP,EAA/B,sBAGP,C,sBCnBc,SAASQ,IAGtB,OAA0BX,EAAAA,EAAAA,UAAS,IAAnC,eAAOb,EAAP,KAAcyB,EAAd,KACA,GAA8BZ,EAAAA,EAAAA,WAAS,GAAvC,eAAOa,EAAP,KAAgBC,EAAhB,KACA,GAA0Bd,EAAAA,EAAAA,UAAS,MAAnC,eAAOe,EAAP,KAAcC,EAAd,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA/B,QAAQC,IAAI,eAAgB6B,GAE5B,IAAME,EAAcF,EAAaG,IAAI,gBAGrCC,EAAAA,EAAAA,YAAU,WACR,GAAKF,EAAL,CAEA,IAAMG,EAAU,mCAAG,oGAEfT,GAAW,GAFI,UAGIU,EAAAA,EAAAA,IAAYJ,GAHhB,OAGTK,EAHS,OAIfb,EAASa,EAAKC,SACdtC,QAAQC,IAAIoC,EAAKC,SALF,gDAOfV,EAAS,EAAD,IAPO,yBASfF,GAAW,GATI,4EAAH,qDAYhBS,GAd8B,CAe7B,GAAE,CAACH,IAQN,OACE,4BACE,SAACvB,EAAD,CAAYE,SARC,SAACE,GAChBkB,EAAgB,CAACC,YAAanB,GAC/B,IAOIY,IAAW,SAACc,EAAA,EAAD,IACXZ,IAAS,uJACR5B,EAAMyC,QAAUR,IAAe,2HAChCjC,EAAMyC,OAAQ,IAAM,SAAC1C,EAAA,EAAD,CAAWC,MAAOA,MAG5C,C","sources":["webpack://react-homework-template/./src/components/FilmItems/FilmItems.module.css?475c","components/FilmItems/FilmItems.jsx","components/MoviesForm/MoviesForm.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"title\":\"FilmItems_title__xOIvm\",\"link\":\"FilmItems_link__ndXNI\"};","import { Link } from \"react-router-dom\"\nimport css from \"components/FilmItems/FilmItems.module.css\"\n\nexport default function FilmItems({items}) {\n    console.log(items)\n\n        const elements = items.map(({ title, id }) => \n        <Link key={id} to={`/movies/${id}`} className={css.link}>{title}</Link>        \n    )\n    return (\n        <>\n            \n            <ul>\n                {elements}\n            </ul>\n        </>\n      \n  )\n}\n","import React from 'react'\nimport { useState } from 'react'\n\n\nexport default function MoviesForm({value, onSubmit}) {\n  const [search, setSearch] = useState(\"\")\n\n\n  const handleChange = (e) => {\n    const { value } = e.target\n    setSearch(value)\n  }\n  \n  const handleSubmit = (e) => {\n    e.preventDefault()\n    onSubmit( search )\n\n    }\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        onChange={handleChange}\n        value={search}\n        type=\"text\"\n        name='search'\n      />\n        <button type='submit' onClick={handleSubmit}>Search</button>\n    </form>\n  )\n}\n","import FilmItems from 'components/FilmItems/FilmItems'\nimport Loading from 'components/Loading/Loading'\nimport MoviesForm from 'components/MoviesForm/MoviesForm'\n// import MoviesGallery from 'components/MoviesGallery/MoviesGallery'\nimport React from 'react'\nimport { useState, useEffect } from 'react'\nimport { useSearchParams } from 'react-router-dom'\nimport { searchPosts } from 'shared/API/post'\n\n\nexport default function Movies() {\n\n  // const [search, setSearch] = useState(\"\")\n  const [items, setItems] = useState([])\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(null)\n\n  const [searchParams, setSearchParams] = useSearchParams()\n  console.log(\"searchParams\", searchParams)\n\n  const searchQuery = searchParams.get(\"searchQuery\")\n\n\n  useEffect(() => {\n    if (!searchQuery  ) { return }\n    // || search.length ===0\n    const fetchPosts = async () => {\n      try {\n        setLoading(true)\n        const data = await searchPosts(searchQuery)\n        setItems(data.results)\n        console.log(data.results)\n      } catch (error) {\n        setError(error)\n      } finally {\n        setLoading(false)\n        }\n    }\n    fetchPosts()\n    }, [searchQuery])\n\n  const onSearch = (search) => {\n    setSearchParams({searchQuery: search})\n  }\n\n\n\n  return (\n    <div>\n      <MoviesForm onSubmit={onSearch} />\n      {loading && <Loading />}\n      {error && <p>Что-то пошло не по плану...</p>}\n      {!items.length && searchQuery && <p>Ничего не найдено...</p>}\n      {items.length> 0  && <FilmItems items={items} />}\n    </div>\n  )\n}\n"],"names":["FilmItems","items","console","log","elements","map","title","id","to","className","css","MoviesForm","value","onSubmit","useState","search","setSearch","handleSubmit","e","preventDefault","onChange","target","type","name","onClick","Movies","setItems","loading","setLoading","error","setError","useSearchParams","searchParams","setSearchParams","searchQuery","get","useEffect","fetchPosts","searchPosts","data","results","Loading","length"],"sourceRoot":""}